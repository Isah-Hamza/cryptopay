<!DOCTYPE html>
<html lang="zxx" class="js">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="CryptoCoin is a powerful Bitcoin Crypto Currency Wallet and Mining Template with full of customization options and features">
		<!-- Fav Icon  -->
		<link rel="shortcut icon" href="images/favicon.png">
		<!-- Site Title  -->
		<title>Buy Sell - CryptoCoin - Bitcoin Crypto Currency Wallet and Mining Template</title>
		<!-- Vendor Bundle CSS -->
		<link rel="stylesheet" href="assets/css/vendor.bundle.css" >
		<!-- Custom styles for this template -->
		<link href="assets/css/style.css" rel="stylesheet">
		<link href="assets/css/theme.css" rel="stylesheet">
	</head>
	<body>
	
		<!-- Header --> 
		<header class="site-header header-s1 is-sticky">
			<!-- Topbar -->
			<div class="topbar">
				<div class="container">
					<div class="row">
						<div class="col-sm-6">
							<ul class="social">
								<li><a href="#"><em class="fa fa-facebook"></em></a></li>
								<li><a href="#"><em class="fa fa-twitter"></em></a></li>
								<li><a href="#"><em class="fa fa-linkedin"></em></a></li>
								<li><a href="#"><em class="fa fa-google-plus"></em></a></li>
							</ul>
						</div>
						<div class="col-sm-6 al-right">
							<ul class="top-nav">
								<li><a href="faqs.html">Help & Support</a></li>
								<li><a href="signup.html">Login</a></li>
								<li><a href="signup.html">Register</a></li>
								<li><a href="profile.html">Profile</a></li>
								<li><a href="kyc.html">KYC</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<!-- #end Topbar -->
			<!-- Navbar -->
			<div class="navbar navbar-primary">
				<div class="container relative">
					<!-- Logo -->
					<a class="navbar-brand" href="index.html">
						<span style="display: flex; gap: 10px; align-items: center;" class="d-flex g-2">
							<img class="logo logo-dark" alt="logo" src="images/favicon.png">
							<h3 style="display: flex; gap: 3px;" class="d-flex">
								<span style="color: black;" class="text-dark" >Crypto</span>
								<span>Pay</span>
							</h3>
						</span>
						<img class="logo logo-light" alt="logo" src="images/logo_white.png">
					</a>
					<!-- #end Logo -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#mainnav" aria-expanded="false">
							<span class="sr-only">Menu</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<div class="quote-btn"><a class="btn" href="signup.html"><span>get started</span></a></div>
					</div>
					<!-- MainNav -->
					<nav class="navbar-collapse collapse" id="mainnav">
						<ul class="nav navbar-nav">
							<!-- <li class="dropdown"><a href="#" class="dropdown-toggle">Home <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html">Home - Default</a></li>
									<li><a href="index-wallet.html">Home - Wallet</a></li>
									<li><a href="index-mining.html">Home - Mining</a></li>
								</ul>
							</li> -->
							<!-- <li class="dropdown"><a href="#" class="dropdown-toggle">Pages <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#">About Pages</a>
										<ul class="dropdown-menu">
											<li><a href="about.html">About Us</a></li>
											<li><a href="teams.html">Teams</a></li>
											<li><a href="testimonial.html">Testimonial</a></li>
										</ul>
									</li>
									<li><a href="#">Service Pages</a>
										<ul class="dropdown-menu">
											<li><a href="service.html">Service List</a></li>
											<li><a href="service-single.html">Service Single</a></li>
										</ul>
									</li>
									<li><a href="#">BitCoin Pages</a>
										<ul class="dropdown-menu">
											<li><a href="work-process.html">How it Works</a></li>
											<li><a href="buy-sell.html">Buy &amp; My Wallet</a></li>
											<li><a href="wallet-features.html">Wallet Features</a></li>
											<li><a href="market-data.html">Market Data</a></li>
											<li><a href="pricing.html">Pricing</a></li>
										</ul>
									</li>
									<li><a href="#">Blog Pages</a>
										<ul class="dropdown-menu">
											<li><a href="blog.html">Blog List</a></li>
											<li><a href="blog-single.html">Blog Single</a></li>
										</ul>
									</li>
									<li><a href="#">Miscellaneous Pages</a>
										<ul class="dropdown-menu">
											<li><a href="pricing-table.html">Pricing Table</a></li>
											<li><a href="signup.html">Sign In/Sign Up</a></li>
											<li><a href="faqs.html">Faq/Support</a></li>
											<li><a href="contact.html">Contact</a></li>
										</ul>
									</li>
									<li><a href="typography.html">Typography</a></li>
								</ul>
							</li> -->
							<li><a href="index.html">Home</a></li>
							<li><a href="buy-sell.html">Wallet</a></li>
							<!-- <li><a href="wallet-features.html">wallet</a></li> -->
							<li><a href="market-data.html">Market data</a></li>
							<li><a href="contact.html">Contact</a></li>
							<li class="quote-btn hidden-xs hidden-sm"><a class="btn" href="signup.html">get started</a></li>
						</ul>
					</nav>
					<!-- #end MainNav -->
				</div>
			</div>
			<!-- #end Navbar -->
			<!-- Banner/Slider -->

		</header>
    	
		<div style="margin-top: 50px;" class="mt-5  pt-5 section container">
			<div class="row text-center">
				<div class="col-md-12">
					<h3>Wallet</h3>
				</div>
			</div>
		</div>
    	
    	<!-- Features Box -->
      	<div class="features-box section section-pad no-pb">
      		<div class="container">
      			<div class="row text-center">
      				<div class="col-md-3 col-md-offset-0 col-sm-6 col-sm-offset-2 res-m-bttm">
      					<div class="box round shadow-alt">
      						<!-- <img src="images/box-icon-a.png" alt="box-icon" class="box-icon"> -->
      						<h6 id="user-name" class="ucap">_</h6>
      						<p style="margin-bottom: 10px;" class="small">From <b id="user-country">_</b> </p>
      						<p class="small">Just funded their wallet with</p>
      						<h6 class="ucap"> $<span style="color: black;" id="user-amount" >0.00</span></h6>
      						<!-- <p class="small">Last Withdrawal Amount.</p> -->
      					</div>
      				</div>
      				<div class="col-md-3 col-md-offset-0 col-sm-6 col-sm-offset-2 res-m-bttm">
      					<div class="box round shadow-alt">
      						<img src="images/box-icon-e.png" alt="box-icon" class="box-icon">
      						<h6 class="ucap">$<b id="wallet-balance">0</b>.00</h6>
      						<p class="small">Active Wallet Balance.</p>
      					</div>
      				</div>
      				<div class="col-md-3 col-md-offset-0 col-sm-6 col-sm-offset-2">
      					<div class="box round shadow-alt">
      						<img src="images/box-icon-c.png" alt="box-icon" class="box-icon">
      						<h6 class="ucap">$<b id="wallet-profit">0</b>.00</h6>
      						<p class="small">Total Profit Earned</p>
      					</div>
      				</div>
      				<a href="./recent-transactions.html" style="cursor: pointer;" class="col-md-3 col-md-offset-0 col-sm-6 col-sm-offset-2">
      					<div class="box round shadow-alt">
							<img src="images/box-icon-a.png" alt="box-icon" class="box-icon">
      						<h6 style="text-decoration: none !important;" class="ucap">$0.00</h6>
      						<p style="text-decoration: none !important; font-weight: 600;" class="small">View Transaction History</p>
      					</div>
      				</a>
      			</div>
				  <div style="margin-top: 50px;" class="container">
					<div class="row text-center">
						<a href="#withdraw-fund" class="btn btn-md btn-alt">Withdraw </a>
						<a style="margin-left: 10px;" href="#fund-wallet" class="btn btn-outlinel btn-md btn-alt">Fund Wallet</a>
					</div>
				</div>

      		</div>
      	</div><!--End Features Box -->

    
      	
      	<!--HR Line -->
    	<div style="margin-top: 100px;" class="container hr-line"></div>
    	
    	<!--Section -->
    	<div  class="section section-pad">
    		<div class="container">
    			<div id="fund-wallet" class="row">
    				<div class="col-md-8">
    					<div class="text-block">
							<h3>How To Fund Your Wallet</h3>
							<p>Many services nowadays offer their users to buy Bitcoins, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc et lorem nec felis finibus laoreet. The company is officially registered in the UK, has a Money Services Busialiquam tellus, sit amet tristique ipsum. </p>
							<p>Many services nowadays offer their users to buy Bitcoins, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc et lorem nec felis finibus laoreet. The company is officially registered in the UK has a Money Services Business status.</p>
							<form id="fund-wallet-form" class="">
								<div class="form-field col-sm-4 form-m-bttm">
									<span>Amount</span>
									<input required id="amount" name="contact-name" type="number" placeholder="Amount Funded *" class="form-control required">
								</div>
								<div class="form-field col-sm-4 form-m-bttm">
									<span>Transaction Receipt</span>
									<input required id="proof" name="contact-name" type="file" placeholder="Full Name *" class="form-control required">
								</div>
								<div style="margin-top: 33px; display: flex;" class="form-field col-sm-3 form-m-bttm">
									<button style="margin-left: auto;" type="submit" class="btn btn-md btn-alt">Submit </button>
								</div>
							</form>
						</div>
    				</div>
    				<div class="col-md-4">
    					<div class="icon-block">
    						<div class="icon-image">
    							<img src="images/icon-b.png" alt="icon">
    						</div>
    						<p>Many services nowadays offer their users to buy Bitcoins, Lorem ipsum dolor sit</p>
    						<ul style="margin-top: 20px;">
    							<li style="border-block: 1px solid gainsboro; padding-bottom: 5px; margin-bottom: 10px;" ><b>Bitcoin</b> <p id="bitcoin"></p> </li>
    							<li style="border-bottom: 1px solid gainsboro; padding-bottom: 5px; margin-bottom: 10px;" ><b>Solanar</b><p id="solanar"></p> </li>
    							<li style="border-bottom: 1px solid gainsboro; padding-bottom: 5px; margin-bottom: 10px;" ><b>Ethereum</b><p id="ethereum"></p> </li>
    							<li style="border-bottom: 1px solid gainsboro; padding-bottom: 5px;"><b>USDT</b><p id="usdt"></p> </li>
    						</ul>
    					</div>
    				</div>
    			</div>
    			<div class="gaps size-2x"></div>
    			<div id="withdraw-fund" class="row">
    				<div class="col-md-8">
    					<div class="text-block">
							<h3>How To Withdraw Your Earnings</h3>
							<p>Many services nowadays offer their users to buy Bitcoins, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc et lorem nec felis finibus laoreet. The company is officially registered in the UK, has a Money Services Busialiquam tellus, sit amet tristique ipsum. </p>
							<p>Many services nowadays offer their users to buy Bitcoins, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc et lorem nec felis finibus laoreet. The company is officially registered in the UK has a Money Services Business status.</p>
						</div>
    				</div>
    				<div class="col-md-4">
    					<div class="icon-block">
    						<div class="icon-image">
    							<img src="images/icon-a.png" alt="icon">
    						</div>
    						<p>Many services nowadays offer their users to buy Bitcoins, Lorem ipsum dolor sit</p>
    						<p>Nowadays offer their Many services users to buy Bitcoins, Lorem ipsum dolor sit amet Many services nowadays offer their users to buy Bitcoins, Lorem ipsum dolor sit amet</p>
    					</div>
    				</div>
    			</div>
    		</div>
    	</div><!-- End Section -->
       	
		<!-- Section Footer -->
		<div  class="footer-section section section-pad-md light bg-footer">
			<div class="imagebg footerbg">
				<img src="images/footer-bg.png" alt="footer-bg">
			</div>
			<div class="container">
				<div class="row">
					<div class="col-md-3 col-sm-6 wgs-box res-m-bttm">
						<!-- Each Widget -->
						<div class="wgs-footer wgs-menu">
							<h5 class="wgs-title ucap">Services</h5>
							<div class="wgs-content">
								<ul class="menu">
									<li><a href="#">Buy Bitcoins</a></li>
									<li><a href="#">Buy Ethereum</a></li>
									<li><a href="#">Sell Bitcoins</a></li>
									<li><a href="#">Bitcoin Trading</a></li>
									<li><a href="#">Margin Trading</a></li>
								</ul>
							</div>
						</div>
						<!-- End Widget -->
					</div>
					<div class="col-md-3 col-sm-6 wgs-box res-m-bttm">
						<!-- Each Widget -->
						<div class="wgs-footer wgs-menu">
							<h5 class="wgs-title ucap">Information</h5>
							<div class="wgs-content">
								<ul class="menu">
									<li><a href="#">Payment Options</a></li>
									<li><a href="#">Fee Schedule</a></li>
									<li><a href="#">Getting Started</a></li>
									<li><a href="#">Identity Verification Guide</a></li>
									<li><a href="#">Card Verification Guide</a></li>
								</ul>
							</div>
						</div>
						<!-- End Widget -->
					</div>
					<div class="col-md-3 col-sm-6 wgs-box res-m-bttm">
						<!-- Each Widget -->
						<div class="wgs-footer wgs-post">
							<h5 class="wgs-title ucap">Recent Blog</h5>
							<div class="wgs-content">
								<div class="wgs-post-single">
									<div class="wgs-post-thumb">
										<img src="images/post-thumb-sm-b.jpg" alt="post-thumb">
									</div>
									<div class="wgs-post-entry">
										<h6 class="wgs-post-title"><a href="blog-single.html">Working Hard to Keep Pace with Demand </a></h6>
										<span class="wgs-post-meta">December 19, 2017</span>
									</div>
								</div>
								<div class="wgs-post-single">
									<div class="wgs-post-thumb">
										<img src="images/post-thumb-sm-c.jpg" alt="post-thumb">
									</div>
									<div class="wgs-post-entry">
										<h6 class="wgs-post-title"><a href="blog-single.html">Working Hard to Keep Pace with Demand </a></h6>
										<span class="wgs-post-meta">December 19, 2017</span>
									</div>
								</div>
							</div>
						</div>
						<!-- End Widget -->
					</div>
					<div class="col-md-3 col-sm-6 wgs-box res-m-bttm">
						<!-- Each Widget -->
						<div class="wgs-footer wgs-contact">
							<h5 class="wgs-title ucap">get in touch</h5>
							<div class="wgs-content">
								<ul class="wgs-contact-list">
									<li><span class="pe pe-7s-map-marker"></span>217 Summit Boulevard <br/>Birmingham, AL 35243</li>
									<li><span class="pe pe-7s-call"></span>Telephone : (123) 4567 8910 <br/>Telephone : (123) 1234 5678</li>
									<li><span class="pe pe-7s-global"></span>Email : <a href="mailto:info@sitename.com">info@sitename.com</a> <br/>Web : <a href="http://example.com">www.example.com</a></li>
								</ul>
							</div>
						</div>
						<!-- End Widget -->
					</div>
				</div>
			</div>	
		</div>
		<!-- End Section -->
		
		<!-- Copyright -->
		<div class="copyright light">
			<div class="container">
				<div class="row">
					<div class="site-copy col-sm-7">
						<p>Copyright &copy; 2018 CryptoPay. 
							<!-- Template Made by <a href="https://themeforest.net/user/softnio/portfolio?ref=softn/io">Softnio</a> -->
						</p>
					</div>
					<div class="col-sm-5 text-right mobile-left">
						<ul class="social">
							<li><a href="#"><em class="fa fa-facebook"></em></a></li>
							<li><a href="#"><em class="fa fa-twitter"></em></a></li>
							<li><a href="#"><em class="fa fa-linkedin"></em></a></li>
							<li><a href="#"><em class="fa fa-google-plus"></em></a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!-- End Copyright -->
		
		<!-- Preloader !remove please if you do not want -->
		<div id="preloader"><div id="status">&nbsp;</div></div> 
		<!-- Preloader End -->
		
		<!-- JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>
		<script src="assets/js/jquery.bundle.js"></script>
		<script src="assets/js/script.js"></script>

		<script type="module">
			import { faker } from 'https://esm.sh/@faker-js/faker';
			const base_url='http://127.0.0.1:8000/api/';
			const username = document.querySelector('#user-name');
			const usercountry = document.querySelector('#user-country');
			const useramount = document.querySelector('#user-amount');
			const wallet_balance = document.querySelector('#wallet-balance');
			const wallet_profit = document.querySelector('#wallet-profit');
			
			const bitcoin = document.querySelector('#bitcoin');
			const solanar = document.querySelector('#solanar');
			const usdt = document.querySelector('#usdt');
			const ethereum = document.querySelector('#ethereum');

			const amount = document.querySelector('#amount');
			let evidence = null;
			const proof = document.querySelector('#proof');

			const fund_wallet_form = document.querySelector('#fund-wallet-form');

			const headers = {
				'Accept':'application/json',
				'Content-Type':'application/json',
				'Authorization': `Bearer ${window.localStorage.getItem('crypto_token')}`,
			}
		  
			const getUser = async () => {
				await axios.get(`${base_url}profile`,{ headers })
				.then(res =>{
					wallet_balance.textContent = res.data.data.wallet.amount.toLocaleString('en-US');
					wallet_profit.textContent = res.data.data.wallet.profit.toLocaleString('en-US');
				}).catch(e => console.log(e.message));
			}
		  

			const getPlatformWallet = async () => {
				await axios.get(`${base_url}get-platform-wallet`,{ headers })
				.then(res =>{
					bitcoin.textContent = res.data.wallet.bitcoin_wallet_address;
					solanar.textContent = res.data.wallet.solanar_wallet_address;
					ethereum.textContent = res.data.wallet.ethereum_wallet_address;
					usdt.textContent = res.data.wallet.usdt_wallet_address;
				}).catch(e => console.log(e.message));
			}

			
			function generateRandomData(){
				const randomName = faker.person.fullName();
			  
				const randomAmount = faker.finance.amount({ min: 100, max: 3000, dec: 0, symbol: '', autoFormat: true }) 
	
				const randomCountry = faker.location.country();

				username.textContent = randomName;
				useramount.textContent = randomAmount;
				usercountry.textContent = randomCountry;
			}

			
			const fundWallet = async () => {
				console.log(proof);

				const data = {
					amount: amount.value,
					proof: evidence,
				}

				await axios.post(`${base_url}transactions`, {...data},{ headers })
				.then(res =>{
					 window.location.href = '/recent-transactions.html';
				}).catch(e =>{
					// form_result.classList.add('show-form-result');
					// form_result.textContent = e.response.data.message;
				});
			}

			generateRandomData();
			getPlatformWallet();
			getUser();

			// Event Listeners
			fund_wallet_form.addEventListener('submit', async (e) => {
				e.preventDefault();
				await fundWallet();
			})

			proof.addEventListener('change', e => {
				evidence = e.target.value;
			})

			setInterval(() => {
				generateRandomData()
			}, 20000);

		  </script>
		
	</body>
</html>
